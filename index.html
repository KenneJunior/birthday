<!DOCTYPE html data-theme="dark">
<html lang="en" class="no-js">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!--Primary site Tags-->
    <title>Happy Birthday My Princess! üíù</title>
    <meta name="title" content="Happy Birthday My Princess! üíù - Special Birthday Wishes">
    <meta name="description"
          content="Wishing you a day as wonderful as you are, filled with joy, love, and happiness! Beautiful birthday celebration with heartfelt messages.">
    <meta name="keywords" content="birthday, love, celebration, wishes, happy birthday, special day">
    <meta name="author" content="Kenne Boniface">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <link rel="canonical" href="https://fhavur.vercel.app/">
    <meta name="color-scheme" content="light dark">
    <meta name="msapplication-TileColor" content="red">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Favicon & App Icons -->
    <link rel="icon"
          href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéÇ</text></svg>">
    <meta name="theme-color" content="red"> <!-- Chrome, Edge, Android -->
    <meta name="msapplication-TileColor" content="#fc03f0"> <!-- Windows -->
    <link rel="manifest" href="manifest.webmanifest">

    <!-- apple Touch icons (Mutiple sizes for different devices) -->
    <link rel="apple-touch-icon" sizes="180x180" href="public/icon/apple/img/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="167x167" href="public/icon/apple/img/apple-touch-icon-167x167.png">
    <link rel="apple-touch-icon" sizes="152x152" href="public/icon/apple/img/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="120x120" href="public/icon/apple/img/apple-touch-icon-120x120.png">

    <!-- Apple Launch Images (Splash Screen) -->
    <link rel="apple-touch-startup-image" href="public/icon/apple/img/apple-splash-screen.png">

    <!-- Apple Safari Pinned Tab Icon -->
    <link rel="mask-icon" href="public/icon/apple/img/apple-touch-icon-512x512.png" color="#8E2DE2">

    <!-- Apple Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Birthday Wishes">

    <title>Birthday Wishes</title>
    <!-- Preload Critical Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">

    <!-- DNS Prefetch -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&display=swap"
          rel="stylesheet">


    <!-- Stylesheets -->
    <link rel="stylesheet" href="src/css/loading.css">
    <link rel="stylesheet" href="src/css/index.css">
    <link rel="stylesheet" href="src/css/notification.css">
    <link rel="stylesheet" href="src/PWA/variables.css">
    <link rel="stylesheet" href="src/PWA/pwa-prompt.css">



    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Special Birthday Wishes">
    <meta property="og:url" content="https://fhavur.vercel.app/">
    <meta property="og:title" content="Happy Birthday My Princess! üíòüíñüíì">
    <meta property="og:description"
          content="Wishing you a day as wonderful as you are, filled with joy, love, and happiness!">
    <meta property="og:image" content="https://fhavur.vercel.app/profile_pic.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Beautiful birthday celebration">
    <meta property="og:locale" content="en_US">

    <!-- Facebook Meta Tags -->
    <meta property="fb:app_id" content="1723432285039071">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://fhavur.vercel.app/">
    <meta name="twitter:title" content="Happy Birthday My Princess! üíù">
    <meta name="twitter:description"
          content="Wishing you a day as wonderful as you are, filled with joy and happiness!">
    <meta name="twitter:image" content="https://fhavur.vercel.app/profile_pic.jpg">
    <meta name="twitter:site" content="@KenneBoniface">
    <meta name="twitter:creator" content="@KenneBoniface">
    <meta name="twitter:image:alt" content="Beautiful birthday celebration">

    <!-- Structured Data -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Event",
            "name": "Birthday Celebration",
            "startDate": "2024-01-01T00:00:00Z",
            "endDate": "2024-01-02T00:00:00Z",
            "eventStatus": "https://schema.org/EventScheduled",
            "eventAttendanceMode": "https://schema.org/OnlineEventAttendanceMode",
            "location": {
                "@type": "VirtualLocation",
                "url": "https://fhavur.vercel.app/"
            },
            "image": "https://fhavur.vercel.app/profile_pic.jpg",
            "description": "Special birthday celebration with heartfelt wishes and messages",
            "performer": {
                "@type": "Person",
                "name": "Your Loved One"
            },
            "organizer": {
                "@type": "Person",
                "name": "Kenne Boniface",
                "url": "https://fhavur.vercel.app/"
            }
        }
    </script>
    <!-- Noscript Fallback -->
    <noscript>
        <style>
            loading-container {
                display: none !important;
            }

            #protectedContent {
                display: block !important;
            }

            .no-js-warning {
                display: block;
                background: #ff4757;
                color: white;
                padding: 1rem;
                text-align: center;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                z-index: 10000;
            }
        </style>
    </noscript>
</head>
<body itemscope itemtype="https://schema.org/WebPage">
<noscript>
    <div class="no-js-warning">
        JavaScript is disabled in your browser. Some features may not work properly.
    </div>
</noscript>

<!-- Loading Animation -->
<div class="loading-container" id="loading" aria-live="polite" aria-label="Loading content">
    <div class="loading-spinner">
        <div class="loading-spinner-inner" aria-hidden="true"></div>
    </div>
    <div class="loading-text">
        <span class="sr-only">Loading</span>
        Verifying access
        <span class="loading-dots" aria-hidden="true">
                <span></span>
                <span></span>
                <span></span>
            </span>
    </div>
</div>

<!-- Main Content -->
<main id="protectedContent" class="main-content" hidden>
    <div class="container px-0">
        <article class="row g-0 birthday-card animate__animated animate__fadeIn" itemscope
                 itemtype="https://schema.org/CreativeWork">

            <!-- Decorative circles -->
            <div class="decorative-circle circle-1" aria-hidden="true"></div>
            <div class="decorative-circle circle-2" aria-hidden="true"></div>

            <!-- Image Section -->
            <div class="col-lg-6 p-0">
                <figure class="image-container h-100">
                    <!-- Placeholder -->
                    <div class="image-placeholder" aria-hidden="true">
                        <i class="fas fa-camera photo-icon floating" aria-hidden="true"></i>
                        <span class="photo-text">Birthday Photo</span>
                    </div>
                    <!-- Actual image -->
                    <img class="birthday-image d-none" src="public/pics/profile_pic.jpg"
                         alt="Beautiful birthday celebration photo"
                         id="birthdayImage"
                         loading="eager"
                         decoding="async"
                         itemprop="image">
                    <figcaption class="sr-only">Special birthday celebration photo</figcaption>
                </figure>
            </div>

            <!-- Content Section -->
            <div class="col-lg-6">
                <section class="content-section" itemprop="text">
                    <header>
                        <h1 class="birthday-title animate__animated animate__fadeInDown" itemprop="headline">
                            Happy Day <span class="name-highlight glow" tabindex="0" role="button">My Princess! üíùüíòüíóüíì</span>
                        </h1>
                    </header>

                    <div class="birthday-message" itemprop="description">
                        <div class="message-item animate__animated animate__fadeIn animate-delay-1">
                            <i class="fas fa-heart birthday-icon" aria-hidden="true"></i>
                            <span>Wishing you a day as wonderful as you are, filled with joy and happiness!</span>
                        </div>

                        <div class="message-item animate__animated animate__fadeIn animate-delay-2">
                            <i class="fas fa-star birthday-icon" aria-hidden="true"></i>
                            <span>May this year bring you success, good health, and countless blessings.</span>
                        </div>

                        <div class="message-item animate__animated animate__fadeIn animate-delay-3">
                            <i class="fas fa-gift birthday-icon" aria-hidden="true"></i>
                            <span>You deserve all the love and happiness in the world today and always!</span>
                        </div>
                    </div>

                    <footer class="birthday-wishes animate__animated animate__pulse" itemprop="creator" itemscope
                            itemtype="https://schema.org/Person">
                        With all my love
                    </footer>

                    <!-- Share Section -->
                    <aside class="share-section" aria-label="Share options">
                        <h2 class="share-title">Share this wish</h2>
                        <div class="share-buttons">
                            <a href="https://wa.me/?text=Check%20out%20these%20beautiful%20birthday%20wishes!"
                               class="share-btn whatsapp"
                               aria-label="Share on WhatsApp"
                               rel="noopener noreferrer"
                               target="_blank">
                                <i class="fab fa-whatsapp" aria-hidden="true"></i>
                            </a>
                            <a href="https://www.instagram.com/"
                               class="share-btn instagram"
                               aria-label="Share on Instagram"
                               rel="noopener noreferrer"
                               target="_blank">
                                <i class="fab fa-instagram" aria-hidden="true"></i>
                            </a>
                            <a href="https://www.facebook.com/sharer/sharer.php?u=example.com"
                               class="share-btn facebook"
                               aria-label="Share on Facebook"
                               rel="noopener noreferrer"
                               target="_blank">
                                <i class="fab fa-facebook-f" aria-hidden="true"></i>
                            </a>
                            <a href="https://twitter.com/intent/tweet?text=Beautiful%20birthday%20wishes&url=example.com"
                               class="share-btn twitter"
                               aria-label="Share on Twitter"
                               rel="noopener noreferrer"
                               target="_blank">
                                <i class="fab fa-twitter" aria-hidden="true"></i>
                            </a>
                            <a href="https://t.me/share/url?url=example.com&text=Beautiful%20birthday%20wishes"
                               class="share-btn telegram"
                               aria-label="Share on Telegram"
                               rel="noopener noreferrer"
                               target="_blank">
                                <i class="fab fa-telegram" aria-hidden="true"></i>
                            </a>
                        </div>
                    </aside>
                </section>
            </div>

            <!-- Music Section -->
            <div class="col-12" id="music">
                <section class="music-section" aria-label="Birthday music">
                    <h2 class="sr-only">Birthday Music</h2>
                    <div class="ratio ratio-16x9">
                        <iframe src="https://www.youtube.com/embed/WgTMeICssXY?list=RDWgTMeICssXY"
                                title="Ruth B. - Dandelions (Lyrics)"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen
                                loading="lazy"
                                class="mt-0"
                                referrerpolicy="strict-origin-when-cross-origin">
                        </iframe>
                    </div>
                </section>
            </div>
        </article>
    </div>
</main>
<div class="pop-notification" aria-label="Pop notification" id="notification">
    <div class="progress-bar">
        <div class="progress" id="progress"></div>
    </div>
    <div class="notification-header">
        <div class="notification-title">
            <i class="fas fa-bell icon"></i>
            <span id="notification-title">Notification</span>
        </div>
        <button class="close-btn" id="closeNotification" aria-label="Close notification">
            <i class="fas fa-times"></i>
        </button>
    </div>
    <div class="notification-content">
        <p class="notification-message" id="notification-message">Your notification message goes here. This is a default message.</p>
        <div class="notification-actions">
            <button class="action-btn secondary-action" id="dismiss">Dismiss</button>
            <button class="action-btn primary-action" id="view-details">View Details</button>
        </div>
    </div>
</div>

<pwa-prompt id="pwa-prompt" class="pwa-prompt" role="dialog" aria-labelledby="pwa-prompt-title" aria-modal="true" hidden>
    <div class="pwa-prompt__backdrop" data-dismiss="pwa-prompt"></div>
    <div class="pwa-prompt__container">
        <!-- Header Section -->
        <header class="pwa-prompt__header">
            <div class="pwa-prompt__badge" aria-hidden="true">
                <img src="public/icon/apple/svg/icon_96X96.svg" alt="The icon of the app" width="72" height="72">
            </div>
            <div class="pwa-prompt__title-group">
                <h1 id="pwa-prompt-title" class="pwa-prompt__title">
                    Install our App
                </h1>
                <p class="pwa-prompt__subtitle">
                    Get the full experience with your app
                </p>
            </div>
        </header>
        <!-- Platform-specific content will be injected here -->
        <section class="pwa-prompt__content" id="pwa-prompt-content">
            <!-- Content injected by JavaScript based on platform -->
        </section>
        <footer class="pwa-prompt__actions" id="pwa-prompt-actions">
            <!-- Actions injected by JavaScript based on platform -->
        </footer>
        <!-- Close Button -->
        <button type="button"
                class="pwa-prompt__close"
                data-dismiss="pwa-prompt"
                aria-label="Close installation prompt">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </button>
    </div>
</pwa-prompt>

<!-- Android PWA Prompt Template -->
<template id="pwa-prompt-android-template">
    <div class="pwa-prompt__content">
        <div class="pwa-prompt__hero">
            <div class="pwa-prompt__app-icon">
                <img src="public/icon/andriod_svg/icon_96X96.svg" width="75" height="75" alt="The icon of the app">
            </div>
            <h3 class="pwa-prompt__app-name"></h3>
            <p class="pwa-prompt__app-description">Install the app for better experience</p>
        </div>
        <div class="pwa-prompt__benefits">
            <div class="benefits-grid">
                <div class="benefit-item">
                    <div class="benefit-icon">üöÄ</div>
                    <div class="benefit-content">
                        <h4>Fast Loading</h4>
                        <p>Instant startup without browser delays</p>
                    </div>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">üì±</div>
                    <div class="benefit-content">
                        <h4>Home Screen Access</h4>
                        <p>Quick launch like a native app</p>
                    </div>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">üîí</div>
                    <div class="benefit-content">
                        <h4>Offline Ready</h4>
                        <p>Works without internet connection</p>
                    </div>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">üì≤</div>
                    <div class="benefit-content">
                        <h4>Push Notifications</h4>
                        <p>Stay updated with important alerts</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="pwa-prompt__install-hint">
            <div class="install-hint__content">
                <svg class="install-hint__icon" viewBox="0 0 24 24" fill="none">
                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z" fill="currentColor"/>
                </svg>
                <p>Tap "Install" below to add this app to your home screen</p>
            </div>
        </div>
    </div>
</template>

<!-- Android PWA Prompt Actions -->
<template id="pwa-prompt-android-actions">
    <button type="button" class="btn btn--secondary" data-action="remind-later">
        <svg class="btn__icon" viewBox="0 0 16 16" fill="none">
            <path d="M8 13C10.7614 13 13 10.7614 13 8C13 5.23858 10.7614 3 8 3C5.23858 3 3 5.23858 3 8C3 10.7614 5.23858 13 8 13Z" stroke="currentColor" stroke-width="1.5"/>
            <path d="M8 5V8L10 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span class="btn__text">Maybe Later</span>
    </button>
    <button type="button" class="btn btn--primary" id="pwa-prompt-installBtn" data-action="install">
        <svg class="btn__icon" viewBox="0 0 16 16" fill="none">
            <path d="M8 1V15M8 15L3 10M8 15L13 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="btn__text">Install App</span>
    </button>
</template>

<!-- Default PWA Prompt Template -->
<template id="pwa-prompt-default-template">
    <div class="pwa-prompt__content">
        <div class="pwa-prompt__hero">
            <div class="pwa-prompt__app-icon">
                <img src="public/icon/andriod_svg/icon_96X96.svg" width="75" height="75" alt="The icon of the app">
            </div>
            <h3 class="pwa-prompt__app-name"></h3>
            <p class="pwa-prompt__app-description">Add to your home screen for quick access</p>
        </div>
        <div class="pwa-prompt__universal-steps">
            <h4 class="universal-steps__title">How to install:</h4>
            <div class="browser-tips">
                <div class="browser-tip" data-browser="chrome">
                    <div class="browser-icon">üåê</div>
                    <div class="browser-content">
                        <h5>Chrome / Edge</h5>
                        <p>Click on <strong>‚ãÆ</strong> ‚Üí then scroll down to <strong>"cast,save and share" </strong>‚Üí <strong>"Install fhavur'app"</strong></p>
                        <p>or you can just click on the icon
                          <strong>"
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16" aria-hidden="true" focusable="false">
                                <path d="M 6.66 17.53 v -1.67 H 3.32 c -0.46 0.00 -0.85 -0.17 -1.18 -0.49 c -0.33 -0.32 -0.49 -0.72 -0.49 -1.18 V 4.17 c 0.00 -0.46 0.17 -0.85 0.49 -1.18 c 0.32 -0.33 0.72 -0.49 1.18 -0.49 H 10.00 v 1.67 H 3.32 v 10.02 h 13.36 v -2.51 h 1.67 v 2.51 c 0.00 0.46 -0.17 0.85 -0.49 1.18 c -0.32 0.33 -0.72 0.49 -1.18 0.49 h -3.34 v 1.67 H 6.66 Z m 7.51 -5.84 L 9.99 7.51 l 1.17 -1.17 l 2.17 2.15 V 2.50 H 15.00 v 6.00 l 2.17 -2.15 l 1.17 1.17 l -4.18 4.18 Z" fill="currentColor" fill-rule="nonzero"/>
                            </svg>
                            "
                        </strong>
                             at the right in your search bar                        
                        </p>
                    </div>
                </div>
                <div class="browser-tip" data-browser="firefox">
                    <div class="browser-icon">ü¶ä</div>
                    <div class="browser-content">
                        <h5>Firefox</h5>
                        <p>Click on <strong>‚ò∞</strong> ‚Üí "Install" or "Add to Home Screen"</p>
                    </div>
                </div>
                <div class="browser-tip" data-browser="safari">
                    <div class="browser-icon">üß≠</div>
                    <div class="browser-content">
                        <h5>Safari (Mac)</h5>
                        <p>Click on <strong>File</strong> ‚Üí "Add to Dock" or "Add to Home Screen"</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="pwa-prompt__features">
            <div class="features-grid">
                <div class="feature-tag">
                    <span class="feature-tag__icon">‚ö°</span>
                    <span class="feature-tag__text">Fast</span>
                </div>
                <div class="feature-tag">
                    <span class="feature-tag__icon">üíæ</span>
                    <span class="feature-tag__text">Offline</span>
                </div>
                <div class="feature-tag">
                    <span class="feature-tag__icon">üîî</span>
                    <span class="feature-tag__text">Notifications</span>
                </div>
                <div class="feature-tag">
                    <span class="feature-tag__icon">üì±</span>
                    <span class="feature-tag__text">App-like</span>
                </div>
            </div>
        </div>
    </div>
</template>

<!-- Default PWA Prompt Actions -->
<template id="pwa-prompt-default-actions">
    <button type="button" class="btn btn--secondary" data-action="remind-later">
        <svg class="btn__icon" viewBox="0 0 16 16" fill="none">
            <path d="M8 13C10.7614 13 13 10.7614 13 8C13 5.23858 10.7614 3 8 3C5.23858 3 3 5.23858 3 8C3 10.7614 5.23858 13 8 13Z" stroke="currentColor" stroke-width="1.5"/>
            <path d="M8 5V8L10 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span class="btn__text">Not Now</span>
    </button>
    <button type="button" class="btn btn--primary" data-action="understand">
        <svg class="btn__icon" viewBox="0 0 16 16" fill="none">
            <path d="M13 5L6 12L3 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="btn__text">Show Me How</span>
    </button>
</template>

<!-- iOS PWA Prompt Template -->
<template id="pwa-prompt-ios-template">
    <div class="pwa-prompt__content">
        <div class="pwa-content__steps">
            <div class="step mt-3" data-step="1">
                <div class="step__indicator">
                    <span class="step__number">1</span>
                    <div class="step__connector"></div>
                </div>
                <div class="step__content">
                    <h3 class="step__title">Tap Share</h3>
                    <p class="step__description">Open the share menu from your browser</p>
                    <div class="step__visual">
                        <div class="ios-share-button">
                            <span class="ios-share-icon">
                                <img src="public/icon/apple/svg/share-apple-com.svg" alt="apple share icon"
                                     width="62"
                                     height="62">
                            </span>
                            <div class="ios-ui-element">
                                <div class="ios-ui-bar">
                                    <div class="ios-ui-dot"></div>
                                    <div class="ios-ui-dot"></div>
                                    <div class="ios-ui-dot"></div>
                                </div>
                                <span class="ios-ui-text">Share</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="step" data-step="2">
                <div class="step__indicator">
                    <span class="step__number">2</span>
                    <div class="step__connector"></div>
                </div>
                <div class="step__content">
                    <h3 class="step__title">Add to Home Screen</h3>
                    <p class="step__description">Scroll down and tap "Add to Home Screen"</p>
                    <div class="step__visual">
                        <div class="ios-menu-item">
                            <div class="ios-menu-icon">Ôºã</div>
                            <div class="ios-menu-content">
                                <div class="ios-menu-text">Add to Home Screen</div>
                                <div class="ios-menu-subtitle">Install this website as an app</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="step" data-step="3">
                <div class="step__indicator">
                    <span class="step__number">3</span>
                </div>
                <div class="step__content">
                    <h3 class="step__title">Confirm Installation</h3>
                    <p class="step__description">Tap "Add" to complete the process</p>
                    <div class="step__visual">
                        <div class="ios-confirm-button">Add</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<!-- iOS PWA Prompt Actions -->
<template id="pwa-prompt-ios-actions">
    <button type="button" class="btn btn--secondary" data-action="remind-later" aria-label="Remind me later">
        <svg class="btn__icon" viewBox="0 0 16 16" fill="none">
            <path d="M8 13C10.7614 13 13 10.7614 13 8C13 5.23858 10.7614 3 8 3C5.23858 3 3 5.23858 3 8C3 10.7614 5.23858 13 8 13Z" stroke="currentColor" stroke-width="1.5"/>
            <path d="M8 5V8L10 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span class="btn__text">Remind Later</span>
    </button>
    <button type="button" class="btn btn--primary" data-action="understand" aria-label="I understand how to install">
        <span class="btn__text">Got It!</span>
        <svg class="btn__icon" viewBox="0 0 16 16" fill="none">
            <path d="M13 5L6 12L3 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>
</template>
<!-- Bootstrap JS Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.auth0.com/js/auth0-spa-js/2.1.3/auth0-spa-js.production.js"></script>
<script src="src/auth-check.js"></script>
<script src="src/js/index.js"></script>
<script src="src/PWA/pwa-prompt.js" type="module"></script>
<script>
    async function initializeProtectedPage() {
        updateLoadingText('Verifying access please wait ‚öíüë∑‚Äç‚ôÄÔ∏èüë©‚Äçüè≠');
        showLoading();
        try {
            const authResult = await setupAuthProtection();

            if (authResult.authenticated) {
                // Show protected content
                const protectedContent = document.getElementById('protectedContent');


                // Hide loading with smooth transition
                setTimeout(hideLoading, 500);


                setTimeout(()=>{
                    if (protectedContent) {
                       protectedContent.hidden = false;
                    }
                    initializePageContent();
                },2000)

            }
        } catch (error) {
            console.error('Authentication failed:', error);
            hideLoading();

            // Redirect to login page after a brief delay
            setTimeout(() => {
                window.location.href = '/login.html';
            }, 1000);
        }
    }

    async function checkOnlineStatus() {
        try {
            const online = await fetch("https://mock.httpstatus.io/202");
            return online.status >= 200 && online.status < 300; // either true or false
        } catch (err) {
            return false;
        }
    }

    function initializePageContent() {
        console.log('Protected content loaded successfully');
        document.querySelectorAll('button, input').forEach(element => {
            element.disabled = false;
        });

        setTimeout(async () => {
            const result = await checkOnlineStatus();
            const music = document.getElementById("music");
            result ? music.classList.remove('d-none') : music.classList.add('d-none');
        },3000);
            
        // The PWA prompt will automatically initialize via connectedCallback
        console.log('PWA Prompt should be automatically initialized');
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeProtectedPage);
    } else {
        initializeProtectedPage();
    }
</script>
</body>
</html>
